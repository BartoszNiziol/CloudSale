<!--
 - Created by BRITENET on 28.04.2021.
 -->

<aura:component description="RC_basket" implements="flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" controller="RC_CustomSearchController">
    <aura:attribute type="list" name="wraps"/>
    <aura:attribute type="Decimal" name="totalPrice"/>
    <aura:handler name="init" value="this" action="{!c.getBasket}"/>
    <aura:handler name="RC_RefreshBasketEvent" event="c:RC_RefreshBasketEvent" action="{!c.getBasket}"/>



    <aura:handler event="c:RC_AddToBasketEvent" action="{!c.addToBasket}"/>
<!--    <aura:handler name="init" value="{!this}" action="{!c.init}"/>-->
        {!v.wraps}
    <aura:if isTrue="{!not(empty(v.wraps))}">
        {!v.wraps}
        <aura:iteration items="{!v.wraps}" var="wrap">
            <c:RC_basketItem ProductId="{!wrap.productId}" recordId="{!wrap.productId}" quantity="{!wrap.quantity}"/>
        </aura:iteration>
        <aura:set attribute="else">
            Empty
        </aura:set>
    </aura:if>

</aura:component>
